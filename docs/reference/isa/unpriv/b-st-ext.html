<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: RISC-V Ratified Specifications Library</title>
    <link rel="prev" href="zc.html">
    <link rel="next" href="v-st-ext.html">
    <meta name="generator" content="Antora 3.1.12">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: light)')?.matches && 'light'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/search.css">
    <link rel="stylesheet" href="../../_/css/vendor/page-search.css">
    <link rel="stylesheet" href="../../_/css/vendor/spring-tabs.css">

    <meta name="antora-ui-version" content="1ea0d9f81bc80a15c1f560d76c5d8bddea1856e2"> 
    <meta name="version" content="">
    <meta name="component" content="isa">
    <meta name="latest-version" content="false">
    <link rel="icon" href="../../_/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">


<header class="header" id="antora-header">
    <nav class="navbar">
        <head>
            <link data-rh="true" rel="icon" href="/img/favicon.ico">
            <link data-rh="true" rel="canonical" href="https://developer.riscv.org/ref">
            <link data-rh="true" rel="alternate" href="https://developer.riscv.org/ref" hreflang="en">
            <link data-rh="true" rel="alternate" href="https://developer.riscv.org/ref" hreflang="x-default">
            <link data-rh="true" rel="preconnect" href="https://MGVPU7BN22-dsn.algolia.net" crossorigin="anonymous">
            <link rel="stylesheet" type="text/css" href="/docs/reference/_/docusaurus-styles-copy-08-25.css">

        </head>
        <script>
            !function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())
        </script>
            <link rel="preload" as="image" href="/img/logo.svg">
            <div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div>
            <div class="announcementBar_mb4j" role="banner">
                <div class="announcementBarPlaceholder_vyr4"></div>
                <div class="content_knG7 announcementBarContent_xLdY">congratulations, you found the RISC-V Developer Portal! ðŸŽ‰ . This site is under active development and not meant for public consumption yet.</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div>
            <nav aria-label="Main" class="navbar ">
                <div class="navbar__inner">
                    <div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button>
                        <a class="navbar__brand" href="/">
                            <div class="navbar__logo"><img src="/img/logo.svg" alt="RISC-V Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="RISC-V Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Home</b></a>
                        <div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Specifications</a>
                            <ul class="dropdown__menu">
                                <li><a class="dropdown__link" href="/docs/spec/isa">ISA</a></li>
                                <li><a class="dropdown__link" href="/docs/spec/profiles">Profiles</a></li>
                                <li><a class="dropdown__link" docid="spec/non-isa" href="/docs/spec/non-isa">Non-ISA</a></li>
                            </ul>
                        </div>
                        <div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Developers</a>
                            <ul class="dropdown__menu">
                                <li><a class="dropdown__link" href="/docs/spec/intro">Specification Developers</a></li>
                                <li><a class="dropdown__link" href="/docs/hardware/overview">Hardware Developers</a></li>
                                <li><a class="dropdown__link" href="/docs/software/overview">Software Developers</a></li>
                            </ul>
                        </div><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://riscv.org/community/calendar/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Events<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div>
                        <div class="navbar-item search hide-for-print">
                          <div id="search-field" class="field">
                            <input id="search-input" type="text" placeholder="Search">
                          </div>
                        </div>
                    <div class="navbar__items navbar__items--right">


                      <div class="navbarSearchContainer_Bca1">

                      </div>
                    </div>
                </div>
                <div role="presentation" class="navbar-sidebar__backdrop"></div>
            </nav>
            <div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper__tJE"></div>
        

    </nav>
</header><div class="body">
<div class="nav-container" data-component="isa" data-version="">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">ISA Specifications</span>
  <span class="version">default</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
  </div><ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Volume I: RISC-V Unprivileged ISA Specification</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="colophon.html">Preface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="rv32.html">RV32I Base Integer Instruction Set</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="rv32e.html">RV32E and RV64E Base Integer Instruction Sets, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="rv64.html">RV64I Base Integer Instruction Set</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zifencei.html">"Zifencei" Extension for Instruction-Fetch Fence, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zicsr.html">"Zicsr", Extension for Control and Status Register (CSR) Instructions, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="counters.html">"Zicntr" and "Zihpm" Extensions for Counters, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zihintntl.html">"Zihintntl" Extension for Non-Temporal Locality Hints, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zihintpause.html">"Zihintpause" Extension for Pause Hint, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zimop.html">"Zimop" Extension for May-Be-Operations, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zicond.html">"Zicond" Extension for Integer Conditional Operations, Version 1.0.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="m-st-ext.html">"M" Extension for Integer Multiplication and Division, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="a-st-ext.html">"A" Extension for Atomic Instructions, Version 2.1</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zawrs.html">"Zawrs" Extension for Wait-on-Reservation-Set instructions, Version 1.01</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zacas.html">"Zacas" Extension for Atomic Compare-and-Swap (CAS) Instructions, Version 1.0.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zabha.html">"Zabha" Extension for Byte and Halfword Atomic Memory Operations, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="rvwmo.html">RVWMO Memory Consistency Model, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="ztso-st-ext.html">"Ztso" Extension for Total Store Ordering, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="cmo.html">"CMO" Extensions for Base Cache Management Operation ISA, Version 1.0.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="f-st-ext.html">"F" Extension for Single-Precision Floating-Point, Version 2.2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="d-st-ext.html">"D" Extension for Double-Precision Floating-Point, Version 2.2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="q-st-ext.html">"Q" Extension for Quad-Precision Floating-Point, Version 2.2</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zfh.html">"Zfh" and "Zfhmin" Extensions for Half-Precision Floating-Point, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="bfloat16.html">"BF16" Extensions for for BFloat16-precision Floating-Point, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zfa.html">"Zfa" Extension for Additional Floating-Point Instructions, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zfinx.html">"Zfinx", "Zdinx", "Zhinx", "Zhinxmin" Extensions for Floating-Point in Integer Registers, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="c-st-ext.html">"C" Extension for Compressed Instructions, Version 2.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="zc.html">"Zc*" Extension for Code Size Reduction, Version 1.0.0</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link"  href="b-st-ext.html">"B" Extension for Bit Manipulation, Version 1.0.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="v-st-ext.html">"V" Standard Extension for Vector Operations, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="scalar-crypto.html">Cryptography Extensions: Scalar &amp; Entropy Source Instructions, Version 1.0.1</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="vector-crypto.html">Cryptography Extensions: Vector Instructions, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="unpriv-cfi.html">Control-flow Integrity (CFI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="rv-32-64g.html">RV32/64G Instruction Set Listings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="naming.html">ISA Extension Naming Conventions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="mm-eplan.html">Appendix A: RVWMO Explanatory Material, Version 0.1</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="mm-formal.html">Appendix B: Formal Memory Model Specifications, Version 0.1</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="vector-examples.html">Appendix C: Vector Assembly Code Examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="calling-convention.html">Appendix D: Calling Convention for Vector State (Not authoritative - Placeholder Only)</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Volume II: RISC-V Privileged ISA Specification</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-index.html">Privileged Architecture</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-contributors.html">Contributors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-preface.html">Preface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-csrs.html">Control and Status Registers (CSRs)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/machine.html">Machine-Level ISA, Version 1.13</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/smstateen.html">"Smstateen/Ssstateen" Extensions, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/indirect-csr.html">"Smcsrind/Sscsrind" Indirect CSR Access, version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="#smepmp.adoc">"Smepmp" Extension for PMP Enhancements, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/smcntrpmf.html">"Smcntrpmf" Cycke and Instret Privilege Mode Filtering, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/rnmi.html">"Smrnmi" Extension for Resumable Non-Maskable Interrupts, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/smcdeleg.html">"Smcdeleg" Counter Delegation Extension, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/smdbltrp.html">"Smdbltrp" Double Trap Extension, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/smctr.html">"Smctr" Control Transfer Records Extension, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/supervisor.html">Supervisor-Level ISA, Version 1.13</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/sstc.html">"Sstc" Extension for Supervisor-mode Timer Interrupts, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/sscofpmf.html">"Sscofpmf" Extension for Count Overflow and Mode-Based Filtering, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/hypervisor.html">"H" Extension for Hypervisor Support, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-cfi.html">Control-flow Integrity(CFI)</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/ssdbltrp.html">"Ssdbltrp" Double Trap Extension, Version 1.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/zpm.html">Pointer Masking Extensions, Version 1.0.0</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-insns.html">RISC-V Privileged Instruction Set Listings</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/priv-history.html">History</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="../priv/bibliography.html">Bibliography</a>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title=""
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
    </div>
  </div>
</aside>
<article class="doc">
<div class="breadcrumbs-container">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
    <ul>
      <li><a href="../index.html">ISA Specifications</a></li>
      <li>Volume I: RISC-V Unprivileged ISA Specification</li>
      <li><a href="b-st-ext.html">"B" Extension for Bit Manipulation, Version 1.0.0</a></li>
    </ul>
  </nav>
</div><div class="sect1">
<h2 id="bits"><a class="anchor" href="#bits"></a>"B" Extension for Bit Manipulation, Version 1.0.0</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The B standard extension comprises instructions provided by the Zba, Zbb, and
Zbs extensions.</p>
</div>
<div class="sect2">
<h3 id="preface"><a class="anchor" href="#preface"></a>Zb* Overview</h3>
<div class="paragraph">
<p>The bit-manipulation (bitmanip) extension collection is comprised of several component extensions to the base RISC-V architecture that are intended to provide some combination of code size reduction, performance improvement, and energy reduction.
While the instructions are intended to have general use, some instructions are more useful in some domains than others.
Hence, several smaller bitmanip extensions are provided. Each of these smaller extensions is grouped by common function and use case, and each has its own Zb*-extension name.</p>
</div>
<div class="paragraph">
<p>Each bitmanip extension includes a group of several bitmanip instructions that have similar purposes and that can often share the same logic. Some instructions are available in only one extension while others are available in several.
The instructions have mnemonics and encodings that are independent of the extensions in which they appear.
Thus, when implementing extensions with overlapping instructions, there is no redundancy in logic or encoding.</p>
</div>
<div class="paragraph">
<p>The bitmanip extensions are defined for RV32 and RV64.</p>
</div>
</div>
<div class="sect2">
<h3 id="word-instructions"><a class="anchor" href="#word-instructions"></a>Word Instructions</h3>
<div class="paragraph">
<p>The bitmanip extension follows the convention in RV64 that <em>w</em>-suffixed instructions (without a dot before the <em>w</em>) ignore the upper 32 bits of their inputs, operate on the least-significant 32-bits as signed values and produce a 32-bit signed result that is sign-extended to XLEN.</p>
</div>
<div class="paragraph">
<p>Bitmanip instructions with the suffix <em>.uw</em> have one operand that is an unsigned 32-bit value that is extracted from the least significant 32 bits of the specified register.  Other than that, these perform full XLEN operations.</p>
</div>
<div class="paragraph">
<p>Bitmanip instructions with the suffix <em>.b</em>, <em>.h</em> and <em>.w</em> only look at the least significant 8-bits, 16-bits and 32-bits of the input (respectively) and produce an XLEN-wide result that is sign-extended or zero-extended, based on the specific instruction.</p>
</div>
</div>
<div class="sect2">
<h3 id="pseudocode-for-instruction-semantics"><a class="anchor" href="#pseudocode-for-instruction-semantics"></a>Pseudocode for instruction semantics</h3>
<div class="paragraph">
<p>The semantics of each instruction in <a href="#insns-b">Instructions (in alphabetical order)</a> is expressed in a SAIL-like syntax.</p>
</div>
</div>
<div class="sect2">
<h3 id="extensions"><a class="anchor" href="#extensions"></a>Extensions</h3>
<div class="paragraph">
<p>The first group of bitmanip extensions to be released for Public Review are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#zba">Address generation instructions</a></p>
</li>
<li>
<p><a href="#zbb">Basic bit-manipulation</a></p>
</li>
<li>
<p><a href="#zbc">Carry-less multiplication</a></p>
</li>
<li>
<p><a href="#zbs">Single-bit instructions</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is a list of all of the instructions that are included in these extensions
along with their specific mapping:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.5%;">
<col style="width: 7.5%;">
<col style="width: 25%;">
<col style="width: 40%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
<th class="tableblock halign-center valign-top">Zba</th>
<th class="tableblock halign-center valign-top">Zbb</th>
<th class="tableblock halign-center valign-top">Zbc</th>
<th class="tableblock halign-center valign-top">Zbs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-add_uw">Add unsigned word</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">andn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-andn">AND with inverted operand</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmul <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmul">Carry-less multiply (low-part)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulh <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmulh">Carry-less multiply (high-part)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmulr">Carry-less multiply (reversed)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clz <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clz">Count leading zero bits</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clzw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clzw">Count leading zero bits in word</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpop <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-cpop">Count set bits</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpopw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-cpopw">Count set bits in word</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctz <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ctz">Count trailing zero bits</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctzw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ctzw">Count trailing zero bits in word</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-max">Maximum</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-maxu">Unsigned maximum</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-min">Minimum</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-minu">Unsigned minimum</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orc.b <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-orc_b">Bitwise OR-Combine, byte granule</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-orn">OR with inverted operand</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev8 <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rev8">Byte-reverse register</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rol <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rol">Rotate left (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rolw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rolw">Rotate Left Word (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ror <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ror">Rotate right (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rori <em>rd</em>, <em>rs1</em>, <em>shamt</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rori">Rotate right (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roriw <em>rd</em>, <em>rs1</em>, <em>shamt</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-roriw">Rotate right Word (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rorw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rorw">Rotate right Word (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bclr">Single-Bit Clear (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclri <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bclri">Single-Bit Clear (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bext <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bext">Single-Bit Extract (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bexti <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bexti">Single-Bit Extract (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binv <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-binv">Single-Bit Invert (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binvi <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-binvi">Single-Bit Invert (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bset <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bset">Single-Bit Set (Register)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bseti <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bseti">Single-Bit Set (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.b <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sext_b">Sign-extend byte</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.h <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sext_h">Sign-extend halfword</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh1add">Shift left by 1 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh1add_uw">Shift unsigned word left by 1 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh2add">Shift left by 2 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh2add_uw">Shift unsigned word left by 2 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh3add">Shift left by 3 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh3add_uw">Shift unsigned word left by 3 and add</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slli.uw <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-slli_uw">Shift-left unsigned word (Immediate)</a></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xnor <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-xnor">Exclusive NOR</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zext.h <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-zext_h">Zero-extend halfword</a></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="zba"><a class="anchor" href="#zba"></a>Zba: Address generation</h4>
<div class="paragraph">
<p>The Zba instructions can be used to accelerate the generation of addresses that index into arrays of basic types (halfword, word, doubleword) using both unsigned word-sized and XLEN-sized indices: a shifted index is added to a base address.</p>
</div>
<div class="paragraph">
<p>The shift and add instructions do a left shift of 1, 2, or 3 because these are commonly found in real-world code and because they can be implemented with a minimal amount of additional hardware beyond that of the simple adder. This avoids lengthening the critical path in implementations.</p>
</div>
<div class="paragraph">
<p>While the shift and add instructions are limited to a maximum left shift of 3, the slli instruction (from the base ISA) can be used to perform similar shifts for indexing into arrays of wider elements. The slli.uw&#8201;&#8212;&#8201;added in this extension&#8201;&#8212;&#8201;can be used when the index is to be interpreted as an unsigned word.</p>
</div>
<div class="paragraph">
<p>The following instructions comprise the Zba extension:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-add_uw">Add unsigned word</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh1add">Shift left by 1 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh1add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh1add_uw">Shift unsigned word left by 1 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh2add">Shift left by 2 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh2add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh2add_uw">Shift unsigned word left by 2 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh3add">Shift left by 3 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sh3add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sh3add_uw">Shift unsigned word left by 3 and add</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slli.uw <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-slli_uw">Shift-left unsigned word (Immediate)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="zbb"><a class="anchor" href="#zbb"></a>Zbb: Basic bit-manipulation</h4>
<div class="sect4">
<h5 id="logical-with-negate"><a class="anchor" href="#logical-with-negate"></a>Logical with negate</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">andn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-andn">AND with inverted operand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-orn">OR with inverted operand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xnor <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-xnor">Exclusive NOR</a></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Imp"></i>
</td>
<td class="content">
<div class="title">Implementation Hint</div>
<div class="paragraph">
<p>The Logical with Negate instructions can be implemented by inverting the <em>rs2</em> inputs to the base-required AND, OR, and XOR logic instructions.
In some implementations, the inverter on rs2 used for subtraction can be reused for this purpose.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="count-leadingtrailing-zero-bits"><a class="anchor" href="#count-leadingtrailing-zero-bits"></a>Count leading/trailing zero bits</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clz <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clz">Count leading zero bits</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clzw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clzw">Count leading zero bits in word</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctz <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ctz">Count trailing zero bits</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ctzw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ctzw">Count trailing zero bits in word</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="count-population"><a class="anchor" href="#count-population"></a>Count population</h5>
<div class="paragraph">
<p>These instructions count the number of set bits (1-bits). This is also
commonly referred to as population count.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpop <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-cpop">Count set bits</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cpopw <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-cpopw">Count set bits in word</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="integer-minimummaximum"><a class="anchor" href="#integer-minimummaximum"></a>Integer minimum/maximum</h5>
<div class="paragraph">
<p>The integer minimum/maximum instructions are arithmetic R-type
instructions that return the smaller/larger of two operands.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-max">Maximum</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">maxu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-maxu">Unsigned maximum</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-min">Minimum</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">minu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-minu">Unsigned minimum</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="sign-extension-and-zero-extension"><a class="anchor" href="#sign-extension-and-zero-extension"></a>Sign extension and zero extension</h5>
<div class="paragraph">
<p>These instructions perform the sign extension or zero extension of the least significant 8 bits or 16 bits of the source register.</p>
</div>
<div class="paragraph">
<p>These instructions replace the generalized idioms <code>slli rd,rs,(XLEN-&lt;size&gt;) + srai</code> (for sign extension of 8-bit and 16-bit quantities) and <code>slli + srli</code> (for zero extension of 16-bit quantities).</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.b <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sext_b">Sign-extend byte</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sext.h <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-sext_h">Sign-extend halfword</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zext.h <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-zext_h">Zero-extend halfword</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="bitwise-rotation"><a class="anchor" href="#bitwise-rotation"></a>Bitwise rotation</h5>
<div class="paragraph">
<p>Bitwise rotation instructions are similar to the shift-logical operations from the base spec. However, where the shift-logical
instructions shift in zeros, the rotate instructions shift in the bits that were shifted out of the other side of the value.
Such operations are also referred to as â€˜circular shiftsâ€™.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rol <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rol">Rotate left (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rolw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rolw">Rotate Left Word (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ror <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ror">Rotate right (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rori <em>rd</em>, <em>rs1</em>, <em>shamt</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rori">Rotate right (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roriw <em>rd</em>, <em>rs1</em>, <em>shamt</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-roriw">Rotate right Word (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rorw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rorw">Rotate right Word (Register)</a></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="AE"></i>
</td>
<td class="content">
<div class="title">Architecture Explanation</div>
<div class="paragraph">
<p>The rotate instructions were included to replace a common
four-instruction sequence to achieve the same effect (neg; sll/srl; srl/sll; or)</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="or-combine"><a class="anchor" href="#or-combine"></a>OR Combine</h5>
<div class="paragraph">
<p><strong>orc.b</strong> sets the bits of each byte in the result <em>rd</em> to all zeros if no bit within the respective byte of <em>rs</em> is set, or to all ones if any bit within the respective byte of <em>rs</em> is set.</p>
</div>
<div class="paragraph">
<p>One use-case is string-processing functions, such as <strong>strlen</strong> and <strong>strcpy</strong>, which can use <strong>orc.b</strong> to test for the terminating zero byte by counting the set bits in leading non-zero bytes in a word.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orc.b <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-orc_b">Bitwise OR-Combine, byte granule</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="byte-reverse"><a class="anchor" href="#byte-reverse"></a>Byte-reverse</h5>
<div class="paragraph">
<p><strong>rev8</strong> reverses the byte-ordering of <em>rs</em>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev8 <em>rd</em>, <em>rs</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rev8">Byte-reverse register</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="zbc"><a class="anchor" href="#zbc"></a>Zbc: Carry-less multiplication</h4>
<div class="paragraph">
<p>Carry-less multiplication is the multiplication in the polynomial ring over GF(2).</p>
</div>
<div class="paragraph">
<p><strong>clmul</strong> produces the lower half of the carry-less product and <strong>clmulh</strong> produces the upper half of the 2&#x2715;XLEN carry-less product.</p>
</div>
<div class="paragraph">
<p><strong>clmulr</strong> produces bits 2&#x2715;XLENâˆ’2:XLEN-1 of the 2&#x2715;XLEN carry-less product.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmul <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmul">Carry-less multiply (low-part)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulh <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmulh">Carry-less multiply (high-part)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmulr">Carry-less multiply (reversed)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="zbs"><a class="anchor" href="#zbs"></a>Zbs: Single-bit instructions</h4>
<div class="paragraph">
<p>The single-bit instructions provide a mechanism to set, clear, invert, or extract
a single bit in a register. The bit is specified by its index.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bclr">Single-Bit Clear (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bclri <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bclri">Single-Bit Clear (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bext <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bext">Single-Bit Extract (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bexti <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bexti">Single-Bit Extract (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binv <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-binv">Single-Bit Invert (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">binvi <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-binvi">Single-Bit Invert (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bset <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bset">Single-Bit Set (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bseti <em>rd</em>, <em>rs1</em>, <em>imm</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-bseti">Single-Bit Set (Immediate)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="zbkb"><a class="anchor" href="#zbkb"></a>Zbkb: Bit-manipulation for Cryptography</h4>
<div class="paragraph">
<p>This extension contains instructions essential for implementing
common operations in cryptographic workloads.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rol">Rotate left (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rolw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rolw">Rotate Left Word (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ror</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-ror">Rotate right (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rori</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rori">Rotate right (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roriw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-roriw">Rotate right Word (Immediate)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rorw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rorw">Rotate right Word (Register)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">andn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-andn">AND with inverted operand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">orn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-orn">OR with inverted operand</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xnor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-xnor">Exclusive NOR</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-pack">Pack low halves of registers</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">packh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-packh">Pack low bytes of registers</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">packw</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-packw">Pack low 16-bits of registers (RV64)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">brev8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-brev8">Reverse bits in bytes</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rev8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-rev8">Byte-reverse register</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">zip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-zip">Bit interleave</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unzip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-unzip">Bit deinterleave</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="zbkc"><a class="anchor" href="#zbkc"></a>Zbkc: Carry-less multiplication for Cryptography</h4>
<div class="paragraph">
<p>Carry-less multiplication is the multiplication in the polynomial ring over
GF(2). This is a critical operation in some cryptographic workloads,
particularly the AES-GCM authenticated encryption scheme.
This extension provides only the instructions needed to
efficiently implement the GHASH operation, which is part of this workload.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmul <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmul">Carry-less multiply (low-part)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">clmulh <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-clmulh">Carry-less multiply (high-part)</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="zbkx"><a class="anchor" href="#zbkx"></a>Zbkx: Crossbar permutations</h4>
<div class="paragraph">
<p>These instructions implement a "lookup table" for 4 and 8 bit elements
inside the general purpose registers.
<em>rs1</em> is used as a vector of N-bit words, and <em>rs2</em> as a vector of N-bit
indices into <em>rs1</em>.
Elements in <em>rs1</em> are replaced by the indexed element in <em>rs2</em>, or zero
if the index into <em>rs2</em> is out of bounds.</p>
</div>
<div class="paragraph">
<p>These instructions are useful for expressing N-bit to N-bit boolean
operations, and implementing cryptographic code with secret
dependent memory accesses (particularly SBoxes) such that the execution
latency does not depend on the (secret) data being operated on.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.1428%;">
<col style="width: 7.1428%;">
<col style="width: 28.5714%;">
<col style="width: 57.143%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">RV32</th>
<th class="tableblock halign-center valign-top">RV64</th>
<th class="tableblock halign-left valign-top">Mnemonic</th>
<th class="tableblock halign-left valign-top">Instruction</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xperm4 <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-xperm4">Crossbar permutation (nibbles)</a></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">xperm8 <em>rd</em>, <em>rs1</em>, <em>rs2</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#insns-xperm8">Crossbar permutation (bytes)</a></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="insns-b"><a class="anchor" href="#insns-b"></a>Instructions (in alphabetical order)</h3>
<div class="sect3">
<h4 id="insns-add_uw"><a class="anchor" href="#insns-add_uw"></a>add.uw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Add unsigned word</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Pseudoinstructions</dt>
<dd>
<p>zext.w <em>rd</em>, <em>rs1</em> &#8594; add.uw <em>rd</em>, <em>rs1</em>, zero</p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMMMEGY5urjohYbjN6zYUB2vtBGmNJLLDUyw2xZbCwDULkBz" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs an XLEN-wide addition between <em>rs2</em> and the zero-extended least-significant word of <em>rs1</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let base = X(rs2);
let index = EXTZ(X(rs1)[31..0]);

X(rd) = base + index;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-andn"><a class="anchor" href="#insns-andn"></a>andn</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>AND with inverted operand</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>andn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJPMEQY5-rn4qcfiManYUB2fRcVGmNJIbjYyQLcKpDq2FgDwqj6T" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs the bitwise logical AND operation between <em>rs1</em> and the bitwise inversion of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = X(rs1) &amp; ~X(rs2);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bclr"><a class="anchor" href="#insns-bclr"></a>bclr</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Clear (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bclr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJMMEQY5OfsE4Teq2FAdr7QRpjSSo41MUO3Sd3KNCIFYGFsLAFuJQBc=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit cleared at the index specified in <em>rs2</em>.
The index is read from the lower log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = X(rs2) &amp; (XLEN - 1);
X(rd) = X(rs1) &amp; ~(1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bclri"><a class="anchor" href="#insns-bclri"></a>bclri</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Clear (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bclri <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzcvYJ8sRvVrGhOh7p4ozE3BJMBUhuNzLBal1sLQA86EFb" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzcvYJ8sRvVrEhpmFmcOnijMTcEjwKgLYZYbUuthYAPMBBWA==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit cleared at the index specified in <em>shamt</em>.
The index is read from the lower log2(XLEN) bits of <em>shamt</em>.
For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = shamt &amp; (XLEN - 1);
X(rd) = X(rs1) &amp; ~(1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bext"><a class="anchor" href="#insns-bext"></a>bext</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Extract (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bext <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEQY5uUaE4Deq2FAdr7QRpjSSo41MkOxy9gnSR1gYWwsAZVlAKw==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns a single bit extracted from <em>rs1</em> at the index specified in <em>rs2</em>.
The index is read from the lower log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = X(rs2) &amp; (XLEN - 1);
X(rd) = (X(rs1) &gt;&gt; index) &amp; 1;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bexti"><a class="anchor" href="#insns-bexti"></a>bexti</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Extract (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bexti <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTBGGOblGhHjiN6vYUB2PdHFGYm4JpgIktxuZoFmn7-TsEwS1NLYWANVQQxo=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTBGGOblGhHjiN6vYENMwM7h0cUZibgkeBUC3G6FZp-_k7BMEtTS2FgDVFkMX" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns a single bit extracted from <em>rs1</em> at the index specified in <em>shamt</em>.
The index is read from the lower log2(XLEN) bits of <em>shamt</em>.
For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = shamt &amp; (XLEN - 1);
X(rd) = (X(rs1) &gt;&gt; index) &amp; 1;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-binv"><a class="anchor" href="#insns-binv"></a>binv</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Invert (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>binv <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJMMEQY5efqF4Teq2FAdr7QRpjSyo02w2RVbCwAkLD7O" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit inverted at the index specified in <em>rs2</em>.
The index is read from the lower log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = X(rs2) &amp; (XLEN - 1);
X(rd) = X(rs1) ^ (1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-binvi"><a class="anchor" href="#insns-binvi"></a>binvi</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Invert (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>binvi <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxz8vQLw29UsaE6HunijMTcEkwFSE43NkG1zRNiXWwtAP-BQSs=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxz8vQLw29UsSGmWWZw6eKMxNwSPAqAliWi2uYJsS62FgADt0FW" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit inverted at the index specified in <em>shamt</em>.
The index is read from the lower log2(XLEN) bits of <em>shamt</em>.
For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = shamt &amp; (XLEN - 1);
X(rd) = X(rs1) ^ (1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bset"><a class="anchor" href="#insns-bset"></a>bset</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Set (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bset <em>rd</em>, <em>rs1</em>,<em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJMMEQY5BbuG4Deq2FAdr7QRpjSSow1NsNkVWwsAI5Q-yg==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit set at the index specified in <em>rs2</em>.
The index is read from the lower log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = X(rs2) &amp; (XLEN - 1);
X(rd) = X(rs1) | (1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-bseti"><a class="anchor" href="#insns-bseti"></a>bseti</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Single-Bit Set (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>bseti <em>rd</em>, <em>rs1</em>,<em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzCnYN8cRvVrGhOh7p4ozE3BJMBchuN8FqXWwtAEKiQXA=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzCnYN8cRvVrEhpmFmcOnijMTcEjwKDCoMErFaF1sLAEbiQZw=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns <em>rs1</em> with a single bit set at the index specified in <em>shamt</em>.
The index is read from the lower log2(XLEN) bits of <em>shamt</em>.
For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let index = shamt &amp; (XLEN - 1);
X(rd) = X(rs1) | (1 &lt;&lt; index)</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbs (<a href="#zbs">Single-bit instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-clmul"><a class="anchor" href="#insns-clmul"></a>clmul</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Carry-less multiply (low-part)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>clmul <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJMMEQY5-_iG-uA3q9hQHa-0EaY0kqtNEXb5evr5OkboI1kZWwsALVtBMQ==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>clmul produces the lower half of the 2Â·XLEN carry-less product.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);
let output : xlenbits = 0;

foreach (i from 0 to (xlen - 1) by 1) {
   output = if   ((rs2_val &gt;&gt; i) &amp; 1)
            then output ^ (rs1_val &lt;&lt; i);
            else output;
}

X[rd] = output</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbc (<a href="#zbc">Carry-less multiplication</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkc (<a href="#zbkc">Carry-less multiplication for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-clmulh"><a class="anchor" href="#insns-clmulh"></a>clmulh</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Carry-less multiply (high-part)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>clmulh <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGSCYhDHL28Q318cBvWLGhOl5pI0xpJGebIizz9fTzdYzQB9sJsTK2FgByDEF7" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>clmulh produces the upper half of the 2Â·XLEN carry-less product.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);
let output : xlenbits = 0;

foreach (i from 1 to xlen by 1) {
   output = if   ((rs2_val &gt;&gt; i) &amp; 1)
            then output ^ (rs1_val &gt;&gt; (xlen - i));
            else output;
}

X[rd] = output</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbc (<a href="#zbc">Carry-less multiplication</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkc (<a href="#zbkc">Carry-less multiplication for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-clmulr"><a class="anchor" href="#insns-clmulr"></a>clmulr</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Carry-less multiply (reversed)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>clmulr <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJOMEAY5-_iG-gThN6zYUB2vtBGmNJKzTRGW-Xr6-TpG6IPthFgZWwsAdlhBhA==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p><strong>clmulr</strong> produces bits 2Â·XLENâˆ’2:XLEN-1 of the 2Â·XLEN carry-less
product.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);
let output : xlenbits = 0;

foreach (i from 0 to (xlen - 1) by 1) {
   output = if   ((rs2_val &gt;&gt; i) &amp; 1)
            then output ^ (rs1_val &gt;&gt; (xlen - i - 1));
            else output;
}

X[rd] = output</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="A"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <strong>clmulr</strong> instruction is used to accelerate CRC calculations.
The <strong>r</strong> in the instruction&#8217;s mnemonic stands for <em>reversed</em>, as the
instruction is equivalent to bit-reversing the inputs, performing
a <strong>clmul</strong>, then bit-reversing the output.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbc (<a href="#zbc">Carry-less multiplication</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-clz"><a class="anchor" href="#insns-clz"></a>clz</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count leading zero bits</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>clz <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxz9okCmoTPqGJDddzSBhUG6Gahq0XyhbEBNotjawF2EENP" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction counts the number of 0&#8217;s before the first 1, starting at the most-significant bit (i.e., XLEN-1) and progressing to bit 0. Accordingly, if the input is 0, the output is XLEN, and if the most-significant bit of the input is a 1, the output is 0.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val HighestSetBit : forall ('N : Int), 'N &gt;= 0. bits('N) -&gt; int

function HighestSetBit x = {
  foreach (i from (xlen - 1) to 0 by 1 in dec)
    if [x[i]] == 0b1 then return(i) else ();
  return -1;
}

let rs = X(rs);
X[rd] = (xlen - 1) - HighestSetBit(rs);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-clzw"><a class="anchor" href="#insns-clzw"></a>clzw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count leading zero bits in word</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>clzw <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrDJB2FxJKSIiuFaHX_AF1PX19dYyP1WIVaHVQtpjAt6kUp6hiyxkgGIsxz9okKx29UsaE6bmmDCgOCZiH5xBir6thaAKPzRNU=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction counts the number of 0&#8217;s before the first 1 starting at bit 31 and progressing to bit 0.
Accordingly, if the least-significant word is 0, the output is 32, and if the most-significant bit of the word (i.e., bit 31) is a 1, the output is 0.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val HighestSetBit32 : forall ('N : Int), 'N &gt;= 0. bits('N) -&gt; int

function HighestSetBit32 x = {
  foreach (i from 31 to 0 by 1 in dec)
    if [x[i]] == 0b1 then return(i) else ();
  return -1;
}

let rs = X(rs);
X[rd] = 31 - HighestSetBit(rs);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-cpop"><a class="anchor" href="#insns-cpop"></a>cpop</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count set bits</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>cpop <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzDvAPwG9UsaE6bmmDCiOCZiF5w9gAm-rYWgDRL0Ps" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instructions counts the number of 1&#8217;s (i.e., set bits) in the source register.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let bitcount = 0;
let rs = X(rs);

foreach (i from 0 to (xlen - 1) in inc)
    if rs[i] == 0b1 then bitcount = bitcount + 1 else ();

X[rd] = bitcount</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="SH"></i>
</td>
<td class="content">
<div class="title">Software Hint</div>
<div class="paragraph">
<p>This operations is known as population count, popcount, sideways sum, bit summation, or Hamming weight.</p>
</div>
<div class="paragraph">
<p>The GCC builtin function <code>__builtin_popcount (unsigned int x)</code> is implemented by cpop on RV32 and by <strong>cpopw</strong> on RV64.
The GCC builtin function <code>__builtin_popcountl (unsigned long x)</code> for LP64 is implemented by <strong>cpop</strong> on RV64.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-cpopw"><a class="anchor" href="#insns-cpopw"></a>cpopw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count set bits in word</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>cpopw <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrDJB2FxJKSIiuFaHX_AF1PX19dYyP1WIVaHVQtpjAt6kUp6hiyxkgGIsxzDvAPCMdvVrE6blmDCiPCZiF5xdgAq_LYWgA6DUWB" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instructions counts the number of 1&#8217;s (i.e., set bits) in the least-significant word of the source register.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let bitcount = 0;
let val = X(rs);

foreach (i from 0 to 31 in inc)
    if val[i] == 0b1 then bitcount = bitcount + 1 else ();

X[rd] = bitcount</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-ctz"><a class="anchor" href="#insns-ctz"></a>ctz</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count trailing zeros</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>ctz <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQxzDonSB-Jw_MYVG6rjlibWPCTvGBvg0hFbCwAzYkeN" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction counts the number of 0&#8217;s before the first 1, starting at the least-significant bit (i.e., 0) and progressing to the most-significant bit (i.e., XLEN-1).
Accordingly, if the input is 0, the output is XLEN, and if the least-significant bit of the input is a 1, the output is 0.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val LowestSetBit : forall ('N : Int), 'N &gt;= 0. bits('N) -&gt; int

function LowestSetBit x = {
  foreach (i from 0 to (xlen - 1) by 1 in dec)
    if [x[i]] == 0b1 then return(i) else ();
  return xlen;
}

let rs = X(rs);
X[rd] = LowestSetBit(rs);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-ctzw"><a class="anchor" href="#insns-ctzw"></a>ctzw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Count trailing zero bits in word</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>ctzw <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrDJB2FxJKSIiuFaHX_AF1PX19dYyP1WIVaHVQtpjAt6kUp6hiyxkgGIsxzDonSB-Jw_MYVG6rjlibWPCQfGRvg0hFbCwAFCUhO" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction counts the number of 0&#8217;s before the first 1, starting at the least-significant bit (i.e., 0) and progressing to the most-significant bit of the least-significant word (i.e., 31). Accordingly, if the least-significant word is 0, the output is 32, and if the least-significant bit of the input is a 1, the output is 0.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val LowestSetBit32 : forall ('N : Int), 'N &gt;= 0. bits('N) -&gt; int

function LowestSetBit32 x = {
  foreach (i from 0 to 31 by 1 in dec)
    if [x[i]] == 0b1 then return(i) else ();
  return 32;
}

let rs = X(rs);
X[rd] = LowestSetBit32(rs);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-max"><a class="anchor" href="#insns-max"></a>max</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Maximum</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>max <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJPMEAb5Okaox-IxqNhQHZ89xUaY0khONjBFssnTD2iZvrOPb6gPxPGxtQC0TkCv" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns the larger of two signed integers.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);

let result = if   rs1_val &lt;_s rs2_val
             then rs2_val
             else rs1_val;

X(rd) = result;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="SW"></i>
</td>
<td class="content">
<div class="title">Software Hint</div>
<div class="paragraph">
<p>Calculating the absolute value of a signed integer can be performed
using the following sequence: <strong>neg rD,rS</strong> followed by <strong>max
rD,rS,rD</strong>. When using this common sequence, it is suggested that they
are scheduled with no intervening instructions so that
implementations that are so optimized can fuse them together.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-maxu"><a class="anchor" href="#insns-maxu"></a>maxu</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Unsigned maximum</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>maxu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJPMEQb5OkaEqsfiManYUB2fRcVGmNJIbjYwRbLK0w9om76zj2-oD8T1sbUA_itBBQ==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns the larger of two unsigned integers.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);

let result = if   rs1_val &lt;_u rs2_val
             then rs2_val
             else rs1_val;

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-min"><a class="anchor" href="#insns-min"></a>min</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Minimum</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>min <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEAb5evqpx-IxqNhQHZ89xUaY0khONjBFscnXMULf2cc31Afi-NhaALJMQKs=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns the smaller of two signed integers.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);

let result = if   rs1_val &lt;_s rs2_val
             then rs1_val
             else rs2_val;

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-minu"><a class="anchor" href="#insns-minu"></a>minu</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Unsigned minimum</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>minu <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEQb5evqFqsfiManYUB2fRcVGmNJIbjZAtcrXMULf2cc31Afi-thaAPwlQQE=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction returns the smaller of two unsigned integers.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_val = X(rs1);
let rs2_val = X(rs2);

let result = if   rs1_val &lt;_u rs2_val
             then rs1_val
             else rs2_val;

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-orc_b"><a class="anchor" href="#insns-orc_b"></a>orc.b</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Bitwise OR-Combine, byte granule</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>orc.b <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTPFpLcbQamiE0GpkYa5QyxVbCwA9Ti6i" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>Combines the bits within each byte using bitwise logical OR.
This sets the bits of each byte in the result <em>rd</em> to all zeros if no bit within the respective byte of <em>rs</em> is set, or to all ones if any bit within the respective byte of <em>rs</em> is set.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let input = X(rs);
let output : xlenbits = 0;

foreach (i from 0 to (xlen - 8) by 8) {
   output[(i + 7)..i] = if   input[(i + 7)..i] == 0
                        then 0b00000000
                        else 0b11111111;
}

X[rd] = output;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-orn"><a class="anchor" href="#insns-orn"></a>orn</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>OR with inverted operand</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>orn <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJPMkAwK8lOPxWNQsaE6PnuKjTClkZxsZIBmE0hxbC0AfAk-Lg==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs the bitwise logical OR operation between <em>rs1</em> and the bitwise inversion of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = X(rs1) | ~X(rs2);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-pack"><a class="anchor" href="#insns-pack"></a>pack</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Pack the low halves of <em>rs1</em> and <em>rs2</em> into <em>rd</em>.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>pack <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCC6qTMkmIrBQVzHYW8xNxUKwWDCmNjHYXEkpIiK4Vodf8A9ViFWh1kpaYwlepFKeqoUsYIQ0ygZkSrBzg6e6vH4jSj2FAdt5wRmpw5XgtiawGQOzw-" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The pack instruction packs the XLEN/2-bit lower halves of <em>rs1</em> and <em>rs2</em> into
<em>rd</em>, with <em>rs1</em> in the lower half and <em>rs2</em> in the upper half.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let lo_half : bits(xlen/2) = X(rs1)[xlen/2-1..0];
let hi_half : bits(xlen/2) = X(rs2)[xlen/2-1..0];
X(rd) = EXTZ(hi_half @ lo_half);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For RV32, the <code>pack</code> instruction with <em>rs2</em>=<code>x0</code> is the <code>zext.h</code>
instruction.
Hence, for RV32, any extension that contains the <code>pack</code> instruction also
contains the <code>zext.h</code> instruction (but not necessarily the <code>c.zext.h</code>
instruction, which is only guaranteed to exist if both the Zcb and Zbb
extensions are implemented).
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-packh"><a class="anchor" href="#insns-packh"></a>packh</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Pack the low bytes of <em>rs1</em> and <em>rs2</em> into <em>rd</em>.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>packh <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCC6qTMkmIrBQVzHYW8xNxUKwWDCmNjHYXEkpIiK4Vodf8A9ViFWh1kpaYwlepFKeqoUsYIQ8wRZgQ4Ont7qMfiNKXYUB23nBGaHJI7TbBZEVsLAHJEPRE=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The packh instruction packs the least-significant bytes of
<em>rs1</em> and <em>rs2</em> into the 16 least-significant bits of <em>rd</em>,
zero extending the rest of <em>rd</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let lo_half : bits(8) = X(rs1)[7..0];
let hi_half : bits(8) = X(rs2)[7..0];
X(rd) = EXTZ(hi_half @ lo_half);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-packw"><a class="anchor" href="#insns-packw"></a>packw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Pack the low 16-bits of <em>rs1</em> and <em>rs2</em> into <em>rd</em> on RV64.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>packw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmqk7KLCm2UjDXUchLzE21UjCoME7SUUgsKSmyUohW9w_QNTZSj63VgakzhalTL0pRRwgbI7SbYFVcbKiOXdwISdwc1ZTYWgDrrzDz" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction packs the low 16 bits of
<em>rs1</em> and <em>rs2</em> into the 32 least-significant bits of <em>rd</em>,
sign extending the 32-bit result to the rest of <em>rd</em>.
This instruction only exists on RV64 based systems.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let lo_half : bits(16) = X(rs1)[15..0];
let hi_half : bits(16) = X(rs2)[15..0];
X(rd) = EXTS(hi_half @ lo_half);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For RV64, the <code>packw</code> instruction with <em>rs2</em>=<code>x0</code> is the <code>zext.h</code>
instruction.
Hence, for RV64, any extension that contains the <code>packw</code> instruction also
contains the <code>zext.h</code> instruction (but not necessarily the <code>c.zext.h</code>
instruction, which is only guaranteed to exist if both the Zcb and Zbb
extensions are implemented).
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-rev8"><a class="anchor" href="#insns-rev8"></a>rev8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Byte-reverse register</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>rev8 <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTPFpLcbQamiE0GpmaaFQyxVbCwA9ey6o" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTPFpLcbQamiE0GqWZKFQyxVbCwA-mi7R" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction reverses the order of the bytes in <em>rs</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let input = X(rs);
let output : xlenbits = 0;
let j = xlen - 1;

foreach (i from 0 to (xlen - 8) by 8) {
   output[i..(i + 7)] = input[(j - 7)..j];
   j = j - 8;
}

X[rd] = output</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="A"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <strong>rev8</strong> mnemonic corresponds to different instruction encodings in RV32 and RV64.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="SH"></i>
</td>
<td class="content">
<div class="title">Software Hint</div>
<div class="paragraph">
<p>The byte-reverse operation is only available for the full register
width.  To emulate word-sized and halfword-sized byte-reversal,
perform a <code>rev8 rd,rs</code> followed by a <code>srai rd,rd,K</code>, where K is
XLEN-32 and XLEN-16, respectively.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-brev8"><a class="anchor" href="#insns-brev8"></a>brev8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Reverse the bits in each byte of a source register.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>brev8 <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTPFpLcbQamiE0GpmYa5QyxVbCwA9bi6m" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction reverses the order of the bits in every byte of a register.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">result : xlenbits = EXTZ(0b0);
foreach (i from 0 to sizeof(xlen) by 8) {
    result[i+7..i] = reverse_bits_in_byte(X(rs1)[i+7..i]);
};
X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-rol"><a class="anchor" href="#insns-rol"></a>rol</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Left (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>rol <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJMMEQYF-fuox-IxqNhQHZ89xUaY0shONkCzCaQ4thYAeK4-Jg==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate left of <em>rs1</em> by the amount in least-significant log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let shamt = if   xlen == 32
            then X(rs2)[4..0]
            else X(rs2)[5..0];
let result = (X(rs1) &lt;&lt; shamt) | (X(rs1) &gt;&gt; (xlen - shamt));

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-rolw"><a class="anchor" href="#insns-rolw"></a>rolw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Left Word (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>rolw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMMMEWYF-fuEq8fiManYUB2fRcVGmNLIzjZAtwqkOrYWALitP5U=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate left on the least-significant word of  <em>rs1</em> by the amount in least-significant 5 bits of <em>rs2</em>.
The resulting word value is sign-extended by copying bit 31 to all of the more-significant bits.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1 = EXTZ(X(rs1)[31..0])
let shamt = X(rs2)[4..0];
let result = (rs1 &lt;&lt; shamt) | (rs1 &gt;&gt; (32 - shamt));
X(rd) = EXTS(result[31..0]);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-ror"><a class="anchor" href="#insns-ror"></a>ror</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Right</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>ror <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEQYF-Qepx-IxqNhQHZ89xUaY0shONkCzCaQ4thYAfZY-Ng==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate right of <em>rs1</em> by the amount in least-significant log2(XLEN) bits of <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let shamt = if   xlen == 32
            then X(rs2)[4..0]
            else X(rs2)[5..0];
let result = (X(rs1) &gt;&gt; shamt) | (X(rs1) &lt;&lt; (xlen - shamt));

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-rori"><a class="anchor" href="#insns-rori"></a>rori</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Right (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>rori <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTBGGBfkHearH4jGp2FAdj0XFGYm5JZgKkFxubIBuGUh1bC0AlmlA3A==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxgjTTBGGBfkHearH4jGp2BDTKDO4dHFGYm4JHgVAl1ugWwZSHVsLAJcSQOI=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate right of <em>rs1</em> by the amount in the least-significant log2(XLEN) bits of <em>shamt</em>.
For RV32, the encodings corresponding to shamt[5]=1 are reserved.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let shamt = if   xlen == 32
            then shamt[4..0]
            else shamt[5..0];
let result = (X(rs1) &gt;&gt; shamt) | (X(rs1) &lt;&lt; (xlen - shamt));

X(rd) = result;</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-roriw"><a class="anchor" href="#insns-roriw"></a>roriw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Right Word by Immediate</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>roriw <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrDJB2FxJKSIiuFaHX_AF1PX19dYyP1WIVaHVQtpjAt6kUp6hiyxggDTRHmBfkHeYarx-IxqthQHY9NxRmJuSWYCpBcb2yAYRtIeWwtAOJuQks=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate right on the least-significant word
of <em>rs1</em> by the amount in the least-significant log2(XLEN) bits of
<em>shamt</em>.
The resulting word value is sign-extended by copying bit 31 to all of
the more-significant bits.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1_data = EXTZ(X(rs1)[31..0];
let result = (rs1_data &gt;&gt; shamt) | (rs1_data &lt;&lt; (32 - shamt));
X(rd) = EXTS(result[31..0]);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-rorw"><a class="anchor" href="#insns-rorw"></a>rorw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Rotate Right Word (Register)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>rorw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMNMEWYF-QeFq8fiManYUB2fRcVGmNLIzjZAtwqkOrYWAL2vP6U=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs a rotate right on the least-significant word of  <em>rs1</em> by the amount in least-significant 5 bits of <em>rs2</em>.
The resultant word is sign-extended by copying bit 31 to all of the more-significant bits.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let rs1 = EXTZ(X(rs1)[31..0])
let shamt = X(rs2)[4..0];
let result = (rs1 &gt;&gt; shamt) | (rs1 &lt;&lt; (32 - shamt));
X(rd) = EXTS(result);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sext_b"><a class="anchor" href="#insns-sext_b"></a>sext.b</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Sign-extend byte</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sext.b <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQwLdo0I0XPSB1Me-M0sNlTHLW1QYWCCbioW45C8ZGwAko2tBQDDf0Jy" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction sign-extends the least-significant byte in the source to XLEN by copying the most-significant bit in the byte (i.e., bit 7) to all of the more-significant bits.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = EXTS(X(rs)[7..0]);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sext_h"><a class="anchor" href="#insns-sext_h"></a>sext.h</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Sign-extend halfword</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sext.h <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpDYx2FxJKSIiuFaHX_AF1PX1_1WIVaHVT1pjD16kUp6hiyxkimIQwLdo0I0XPSB1Me-M0sNlTHLW1QYWCKZio245C8ZGwAko2tBQDEoEJ5" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction sign-extends the least-significant halfword in <em>rs</em> to XLEN by copying the most-significant bit in the halfword (i.e., bit 15) to all of the more-significant bits.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = EXTS(X(rs)[15..0]);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh1add"><a class="anchor" href="#insns-sh1add"></a>sh1add</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift left by 1 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh1add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJOMEAYFexg6urjgN6zYUB2vtBGmNJKzDQ2w2xZbCwARYj-V" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction shifts <em>rs1</em> to the left by 1 bit and adds it to <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 1);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh1add_uw"><a class="anchor" href="#insns-sh1add_uw"></a>sh1add.uw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift unsigned word left by 1 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh1add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMOMEGYFexg6urjohYbjN6_YUB2vtBGmNJLjDQ2wWwjSE1sLAJ_xQio=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs an XLEN-wide addition of two addends.
The first addend is <em>rs2</em>. The second addend is the unsigned value formed by extracting the least-significant word of <em>rs1</em> and shifting it left by 1 place.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let base = X(rs2);
let index = EXTZ(X(rs1)[31..0]);

X(rd) = base + (index &lt;&lt; 1);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh2add"><a class="anchor" href="#insns-sh2add"></a>sh2add</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift left by 2 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh2add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEAYFexg5urjgN6zYUB2vtBGmNJKzDQ2w2xZbCwAS9j-Z" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction shifts <em>rs1</em> to the left by 2 places and adds it to <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 2);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh2add_uw"><a class="anchor" href="#insns-sh2add_uw"></a>sh2add.uw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift unsigned word left by 2 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh2add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMNMEGYFexg5urjohYbjN6_YUB2vtBGmNJLjDQ1wWhhbCwBgXUIO" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs an XLEN-wide addition of two addends.
The first addend is <em>rs2</em>.
The second addend is the unsigned value formed by extracting the least-significant word of <em>rs1</em> and shifting it left by 2 places.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let base = X(rs2);
let index = EXTZ(X(rs1)[31..0]);

X(rd) = base + (index &lt;&lt; 2);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh3add"><a class="anchor" href="#insns-sh3add"></a>sh3add</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift left by 3 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh3add <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJPMEAYFexg7urjgN6zYUB2vtBGmNJKzDQ2w2xZbCwAUij-d" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction shifts <em>rs1</em> to the left by 3 places and adds it to <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = X(rs2) + (X(rs1) &lt;&lt; 3);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-sh3add_uw"><a class="anchor" href="#insns-sh3add_uw"></a>sh3add.uw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift unsigned word left by 3 and add</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>sh3add.uw <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMPMEGYFexg7urjohYbjN6_YUB2vtBGmNJLjDQ1wWhhbCwBiBkIS" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs an XLEN-wide addition of two addends. The first addend is <em>rs2</em>. The second addend is the unsigned value formed by extracting the least-significant word of <em>rs1</em> and shifting it left by 3 places.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">let base = X(rs2);
let index = EXTZ(X(rs1)[31..0]);

X(rd) = base + (index &lt;&lt; 3);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-slli_uw"><a class="anchor" href="#insns-slli_uw"></a>slli.uw</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Shift-left unsigned word (Immediate)</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>slli.uw <em>rd</em>, <em>rs1</em>, <em>shamt</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrDJB2FxJKSIiuFaHX_AF1PX19dYyP1WIVaHVQtpjAt6kUp6hiyxkgGIswL9vHx1AsNx29asSGmcWZw6eKMxNwSPAoMKgyMcFgYWwsAFpdDXA==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction takes the least-significant word of <em>rs1</em>, zero-extends it, and shifts it left by the immediate.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = (EXTZ(X(rs)[31..0]) &lt;&lt; shamt);</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zba (<a href="#zba">Address generation instructions</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="A"></i>
</td>
<td class="content">
<div class="title">Architecture Explanation</div>
<div class="paragraph">
<p>This instruction is the same as <strong>slli</strong> with <strong>zext.w</strong> performed on <em>rs1</em> before shifting.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-unzip"><a class="anchor" href="#insns-unzip"></a>unzip</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Place odd and even bits of the source register into upper and lower halves of
the destination register, respectively.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>unzip <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmqk7KLCm2UjDXUchLzE21UjCoMDTWUUgsKSmyUohW9w_Q9fT1VY-t1YEpNIUpVC9KUUcIGyP0m2JVXGyojkXcoCINIYrkBhOgaGwtAL-yMOo=" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction scatters all of the odd and even bits of a source word into
the high and low halves of a destination word.
It is the inverse of the <a href="#insns-zip-sc">zip</a> instruction.
This instruction is available only on RV32.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">foreach (i from 0 to xlen/2-1) {
  X(rd)[i] = X(rs1)[2*i]
  X(rd)[i+xlen/2] = X(rs1)[2*i+1]
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="SH"></i>
</td>
<td class="content">
<div class="title">Software Hint</div>
<div class="paragraph">
<p>This instruction is useful for implementing the SHA3 cryptographic
hash function on a 32-bit architecture, as it implements the
bit-interleaving operation used to speed up the 64-bit rotations
directly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>) (RV32)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-xnor"><a class="anchor" href="#insns-xnor"></a>xnor</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Exclusive NOR</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>xnor <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEAZF-PkHqcfiManYUB2fRcVGmNJIbjYyQLcKpDq2FgACYT7c" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction performs the bit-wise exclusive-NOR operation on <em>rs1</em> and <em>rs2</em>.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = ~(X(rs1) ^ X(rs2));</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-xperm8"><a class="anchor" href="#insns-xperm8"></a>xperm8</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Byte-wise lookup of indices into a vector in registers.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>xperm8 <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmqk7KLCm2UjDXUchLzE21UjCoMDbWUUgsKSmyUohW9w9Qj1Wo1YGpMoWpUi9KUUcIGyM0m2BVXGyojl3cCEkcyQmGIGNiawGzVjCD" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The xperm8 instruction operates on bytes.
The <em>rs1</em> register contains a vector of XLEN/8 8-bit elements.
The <em>rs2</em> register contains a vector of XLEN/8 8-bit indexes.
The result is each element in <em>rs2</em> replaced by the indexed element in <em>rs1</em>,
or zero if the index into <em>rs2</em> is out of bounds.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val xperm8_lookup : (bits(8), xlenbits) -&gt; bits(8)
function xperm8_lookup (idx, lut) = {
    (lut &gt;&gt; (idx @ 0b000))[7..0]
}

function clause execute ( XPERM8 (rs2,rs1,rd)) = {
    result : xlenbits = EXTZ(0b0);
    foreach(i from 0 to xlen by 8) {
        result[i+7..i] = xperm8_lookup(X(rs2)[i+7..i], X(rs1));
    };
    X(rd) = result;
    RETIRE_SUCCESS
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkx (<a href="#zbkx">Crossbar permutations</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-xperm4"><a class="anchor" href="#insns-xperm4"></a>xperm4</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Nibble-wise lookup of indices into a vector.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>xperm4 <em>rd</em>, <em>rs1</em>, <em>rs2</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmqk7KLCm2UjDXUchLzE21UjCoMDbWUUgsKSmyUohW9w9Qj1Wo1YGpMoWpUi9KUUcIGyM0G2FVXGyojl3cCEkcyQmGJkDh2FoAsrwwgQ==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>The xperm4 instruction operates on nibbles.
The <em>rs1</em> register contains a vector of XLEN/4 4-bit elements.
The <em>rs2</em> register contains a vector of XLEN/4 4-bit indexes.
The result is each element in <em>rs2</em> replaced by the indexed element in <em>rs1</em>,
or zero if the index into <em>rs2</em> is out of bounds.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">val xperm4_lookup : (bits(4), xlenbits) -&gt; bits(4)
function xperm4_lookup (idx, lut) = {
    (lut &gt;&gt; (idx @ 0b00))[3..0]
}

function clause execute ( XPERM4 (rs2,rs1,rd)) = {
    result : xlenbits = EXTZ(0b0);
    foreach(i from 0 to xlen by 4) {
        result[i+3..i] = xperm4_lookup(X(rs2)[i+3..i], X(rs1));
    };
    X(rd) = result;
    RETIRE_SUCCESS
}</code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkx (<a href="#zbkx">Crossbar permutations</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-zext_h"><a class="anchor" href="#insns-zext_h"></a>zext.h</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Zero-extend halfword</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>zext.h <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding (RV32)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwpjYx2FxJKSIiuFaHX_APVYhVodVLWmMLXqRSnqGLLGCJNMEAZFuUaE6Hmox-Ixq1gdt00GFQYGGLJIbjYwAcnG1gIAMkM6HA==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Encoding (RV64)</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmUgCCaoWkzJJiKwUFcx2FvMTcVCsFgwrjJB2FxJKSIiuFaHX_AF1jI_VYhVodVOWmMOXqRSnqGLLGCMNMEGZFuUaE6Hmox-Ixq1gdt00GFQYGGLJIzjYwAcnG1gIA34o63Q==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction zero-extends the least-significant halfword of the source to XLEN by inserting 0&#8217;s into all of the bits more significant than 15.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">X(rd) = EXTZ(X(rs)[15..0]);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="A"></i>
</td>
<td class="content">
<div class="title">Note</div>
<div class="paragraph">
<p>The <strong>zext.h</strong> mnemonic corresponds to different instruction encodings in RV32 and RV64.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbb (<a href="#zbb">Basic bit-manipulation</a>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="insns-zip"><a class="anchor" href="#insns-zip"></a>zip</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Synopsis</dt>
<dd>
<p>Interleave upper and lower halves of the source register into odd and even
bits of the destination register, respectively.</p>
</dd>
<dt class="hdlist1">Mnemonic</dt>
<dd>
<p>zip <em>rd</em>, <em>rs</em></p>
</dd>
<dt class="hdlist1">Encoding</dt>
</dl>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt4rmqk7KLCm2UjDXUchLzE21UjCoMDTWUUgsKSmyUohW9w_Q9fT1VY-t1YEpNIUpVC9KUUcIGyPpx6q42FAdi7hBRRpCFMkNJkDR2FoAvoow5g==" alt="svg">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Description</dt>
<dd>
<p>This instruction gathers bits from the high and low halves of the source
word into odd/even bit positions in the destination word.
It is the inverse of the <a href="#insns-unzip-sc">unzip</a> instruction.
This instruction is available only on RV32.</p>
</dd>
<dt class="hdlist1">Operation</dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sail hljs" data-lang="sail">foreach (i from 0 to xlen/2-1) {
  X(rd)[2*i] = X(rs1)[i]
  X(rd)[2*i+1] = X(rs1)[i+xlen/2]
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="SH"></i>
</td>
<td class="content">
<div class="title">Software Hint</div>
<div class="paragraph">
<p>This instruction is useful for implementing the SHA3 cryptographic
hash function on a 32-bit architecture, as it implements the
bit-interleaving operation used to speed up the 64-bit rotations
directly.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Included in</dt>
</dl>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Extension</th>
<th class="tableblock halign-left valign-top">Minimum version</th>
<th class="tableblock halign-left valign-top">Lifecycle state</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbkb (<a href="#zbkb">Bit-manipulation for Cryptography</a>) (RV32)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">v1.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ratified</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="software-optimization-guide"><a class="anchor" href="#software-optimization-guide"></a>Software optimization guide</h3>
<div class="sect3">
<h4 id="strlen"><a class="anchor" href="#strlen"></a>strlen</h4>
<div class="paragraph">
<p>The <strong>orc.b</strong> instruction allows for the efficient detection of <strong>NUL</strong> bytes in an XLEN-sized chunk of data:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the result of <strong>orc.b</strong> on a chunk that does not contain any <strong>NUL</strong> bytes will be all-ones, and</p>
</li>
<li>
<p>after a bitwise-negation of the result of <strong>orc.b</strong>, the number of data bytes before the  first <strong>NUL</strong> byte (if any) can be detected by <strong>ctz</strong>/<strong>clz</strong> (depending on the endianness of data).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A full example of a <strong>strlen</strong> function, which uses these techniques and also demonstrates the use of it for unaligned/partial data, is the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asm hljs" data-lang="asm">#include &lt;sys/asm.h&gt;

    .text
    .globl strlen
    .type  strlen, @function
strlen:
    andi    a3, a0, (SZREG-1)   // offset
    andi    a1, a0, -SZREG      // align pointer
.Lprologue:
    li      a4, SZREG
    sub     a4, a4, a3          // XLEN - offset
    slli    a3, a3, 3           // offset * 8
    REG_L   a2, 0(a1)           // chunk
    /*
     * Shift the partial/unaligned chunk we loaded to remove the bytes
     * from before the start of the string, adding NUL bytes at the end.
     */
#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
    srl     a2, a2 ,a3          // chunk &gt;&gt; (offset * 8)
#else
    sll     a2, a2, a3
#endif
    orc.b   a2, a2
    not     a2, a2
    /*
     * Non-NUL bytes in the string have been expanded to 0x00, while
     * NUL bytes have become 0xff.  Search for the first set bit
     * (corresponding to a NUL byte in the original chunk).
     */
#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
    ctz     a2, a2
#else
    clz     a2, a2
#endif
    /*
     * The first chunk is special: compare against the number of valid
     * bytes in this chunk.
     */
    srli    a0, a2, 3
    bgtu    a4, a0, .Ldone
    addi    a3, a1, SZREG
    li      a4, -1
    .align 2
    /*
     * Our critical loop is 4 instructions and processes data in 4 byte
     * or 8 byte chunks.
     */
.Lloop:
    REG_L   a2, SZREG(a1)
    addi    a1, a1, SZREG
    orc.b   a2, a2
    beq     a2, a4, .Lloop

.Lepilogue:
    not     a2, a2
#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
    ctz     a2, a2
#else
    clz     a2, a2
#endif
    sub     a1, a1, a3
    add     a0, a0, a1
    srli    a2, a2, 3
    add     a0, a0, a2
.Ldone:
    ret</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="strcmp"><a class="anchor" href="#strcmp"></a>strcmp</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asm hljs" data-lang="asm">#include &lt;sys/asm.h&gt;

  .text
  .globl strcmp
  .type  strcmp, @function
strcmp:
  or    a4, a0, a1
  li    t2, -1
  and   a4, a4, SZREG-1
  bnez  a4, .Lsimpleloop

  # Main loop for aligned strings
.Lloop:
  REG_L a2, 0(a0)
  REG_L a3, 0(a1)
  orc.b t0, a2
  bne   t0, t2, .Lfoundnull
  addi  a0, a0, SZREG
  addi  a1, a1, SZREG
  beq   a2, a3, .Lloop

  # Words don't match, and no null byte in first word.
  # Get bytes in big-endian order and compare.
#if __BYTE_ORDER__ == __ORDER_LITTLE_ENDIAN__
  rev8  a2, a2
  rev8  a3, a3
#endif
  # Synthesize (a2 &gt;= a3) ? 1 : -1 in a branchless sequence.
  sltu a0, a2, a3
  neg  a0, a0
  ori  a0, a0, 1
  ret

.Lfoundnull:
  # Found a null byte.
  # If words don't match, fall back to simple loop.
  bne   a2, a3, .Lsimpleloop

  # Otherwise, strings are equal.
  li    a0, 0
  ret

  # Simple loop for misaligned strings
.Lsimpleloop:
  lbu   a2, 0(a0)
  lbu   a3, 0(a1)
  addi  a0, a0, 1
  addi  a1, a1, 1
  bne   a2, a3, 1f
  bnez  a2, .Lsimpleloop

1:
  sub   a0, a2, a3
  ret

.size   strcmp, .-strcmp</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="zc.html">"Zc*" Extension for Code Size Reduction, Version 1.0.0</a></span>
  <span class="next"><a href="v-st-ext.html">"V" Standard Extension for Vector Operations, Version 1.0</a></span>
</nav>
</article>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
                  <ul class="nav-versions">
                      <li class="component">
                        <div>
                          <a class="title" href="../index.html">ISA Specifications</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../index.html">
      default
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                  </ul>
            </main>
        </div>
    </div>
</div>

</div>
<footer class="hidden">
		<script src="../../_/js/vendor/lunr.js"></script>
<script src="../../_/js/search-ui.js" id="search-ui-script" data-site-root-path="../.." data-snippet-length="100" data-stylesheet="../../_/css/search.css"></script>
<script async src="../../search-index.js"></script>
</footer><script src="../../_/js/vendor/import.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/spring-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  </body>
</html>
